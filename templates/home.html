<html lang="en">
  <head>
    <title>Boulder View</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <meta charset="utf-8">
    <meta name="author" content="Martin Chandler">
    <meta name="description" content="Boulder View">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <link rel="icon" href="https://raw.githubusercontent.com/mchandler13/BoulderView/master/data/images/flatirons.jpg" type="image/x-icon">
  </head>

  <body>
    <nav id = "nav1">
      <ul class = "inline1">
        <li><a href="/">Home</a></li>
        <li><a href="predict">Predict</a></li>
        <li><a href="#cool">cool</a></li>
        <li><a href="#other">other</a></li>
      </ul>
    </nav>
    <div id="thePlot"></div>
    <div id="hoverinfo"></div>
    <script>
    var myPlot = document.getElementById('thePlot'),
        hoverInfo = document.getElementById('hoverinfo'),
        d3 = Plotly.d3,
        x = {{data[0]}},
        y1 = {{data[1]}},
        hashtag_count = {{data[2]}},
        data = [ { x:x, y:y1, type:'scatter', name:'Boulder Tweets!!',
            mode:'markers', marker:{size:4}, text:hashtag_count}];
        layout = {
            hovermode:'closest',
            title:'Boulder Tweets',
            images: [{source: "https://raw.githubusercontent.com/mchandler13/BoulderView/master/data/images/Boulder.jpg",
                      xref: "x",
                      yref: "y",
                      x: -105.4,
                      y: 40.08,
                      sizex: .3,
                      sizey: .1,
                      sizing: "stretch",
                      opacity: 0.7,
                      layer: "below"}]
         }
         config={
           'displayModeBar': false
         };


    Plotly.plot('thePlot', data, layout,config);

    myPlot.on('plotly_hover', function(data){
        var infotext = data.points.map(function(d){
          return ('Number of Hashtags: '+d.text);
        });
        hoverInfo.innerHTML = infotext.join('');
      });
    </script>
  </body>
</html>
